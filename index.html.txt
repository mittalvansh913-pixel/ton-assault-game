<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TON ASSAULT GAME</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial, sans-serif;
  text-align:center;
}

h1{
  margin-top:20px;
}

#game{
  display:none;
}

.bar{
  width:80%;
  height:20px;
  background:#333;
  margin:10px auto;
  border-radius:10px;
  overflow:hidden;
}

.hp{
  height:100%;
  background:lime;
  width:100%;
}

.enemy .hp{
  background:red;
}

button{
  padding:12px 20px;
  margin:10px;
  font-size:16px;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.attack{ background:#ff3b3b; color:#fff; }
.start{ background:#00c853; color:#fff; }

.box{
  margin-top:20px;
  font-size:18px;
}
</style>
</head>

<body>

<h1>ğŸ”¥ TON ASSAULT GAME ğŸ”¥</h1>

<div id="menu">
  <p>âš”ï¸ Fight â€¢ ğŸ’° Earn Coins â€¢ ğŸ”¥ Level Up</p>
  <button class="start" onclick="startGame()">â–¶ï¸ PLAY</button>
</div>

<div id="game">

  <div class="box">ğŸ‘¤ PLAYER HP</div>
  <div class="bar"><div id="playerHp" class="hp"></div></div>

  <div class="box">ğŸ‘¹ ENEMY HP</div>
  <div class="bar enemy"><div id="enemyHp" class="hp"></div></div>

  <button class="attack" onclick="attack()">âš”ï¸ ATTACK</button>

  <div class="box">
    ğŸª™ Coins: <span id="coins">0</span>
  </div>

  <div class="box" id="status"></div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();

let playerHP = 100;
let enemyHP = 100;
let coins = 0;

function startGame(){
  document.getElementById("menu").style.display="none";
  document.getElementById("game").style.display="block";
  resetFight();
}

function resetFight(){
  playerHP = 100;
  enemyHP = 100;
  updateBars();
  document.getElementById("status").innerText="";
}

function updateBars(){
  document.getElementById("playerHp").style.width = playerHP + "%";
  document.getElementById("enemyHp").style.width = enemyHP + "%";
  document.getElementById("coins").innerText = coins;
}

function attack(){
  if(playerHP<=0 || enemyHP<=0) return;

  let playerDamage = Math.floor(Math.random()*20)+10;
  enemyHP -= playerDamage;
  if(enemyHP<0) enemyHP=0;

  if(enemyHP<=0){
    coins += 10;
    document.getElementById("status").innerText="ğŸ”¥ YOU WIN! +10 COINS";
    updateBars();
    setTimeout(resetFight,1500);
    return;
  }

  let enemyDamage = Math.floor(Math.random()*15)+5;
  playerHP -= enemyDamage;
  if(playerHP<0) playerHP=0;

  if(playerHP<=0){
    document.getElementById("status").innerText="ğŸ’€ YOU LOST!";
    updateBars();
    setTimeout(resetFight,1500);
    return;
  }

  updateBars();
}
</script>

</body>
</html>
